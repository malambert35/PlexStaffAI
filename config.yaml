# PlexStaffAI Configuration Rules
# Version 1.6 - Advanced AI Moderation Settings

ai_rules:
  # Auto-approve criteria (if ANY condition matches)
  auto_approve:
    rating_above: 7.5              # IMDb/TMDB rating threshold
    awards:                        # Content with these awards auto-approved
      - "Oscar"
      - "Emmy"
      - "Golden Globe"
      - "BAFTA"
      - "Critics Choice"
    genres:                        # Always approve these genres
      - "Documentary"
      - "Biography"
      - "History"
    popularity_threshold: 100      # TMDB popularity score minimum
  
  # Auto-reject criteria (if ANY condition matches)
  auto_reject:
    rating_below: 4.0              # Reject poor-rated content
    genres:                        # Never approve these genres
      - "Adult"
      - "Erotic"
    keywords:                      # Reject if title/description contains
      - "CAM"
      - "LEAK"
      - "SCREENER"
      - "HDTS"
      - "HDCAM"
    duplicate_check: true          # Reject if already in library
  
  # Human review triggers (NEEDS_REVIEW status)
  needs_review:
    episode_count_above: 100       # TV shows with 100+ episodes need review
    season_count_above: 10         # Or shows with 10+ seasons
    ambiguous_metadata: true       # Missing year, unclear title, etc.
    new_user_obscure_content:      # New users requesting niche content
      user_age_days: 30            # User account < 30 days
      popularity_below: 20         # AND content popularity < 20
    cost_estimate_above: 50        # Large storage (50GB+) needs review
    controversial_keywords:        # Flag for manual review
      - "banned"
      - "controversial"
      - "censored"
  
  # User trust system
  user_trust_levels:
    new_user_days: 30              # User < 30 days = "new"
    trusted_requests_min: 50       # 50+ approved = "trusted"
    veteran_requests_min: 100      # 100+ approved = "veteran"
    
    # Trust level permissions
    new_user_restrictions:
      max_obscure_content: 0       # New users can't request obscure (<20 popularity)
      max_pending_requests: 3      # Only 3 pending at once
    
    trusted_user_benefits:
      auto_approve_rating: 6.5     # Lower threshold (7.5 â†’ 6.5)
      skip_duplicate_check: false  # Still check duplicates
    
    veteran_user_benefits:
      auto_approve_all: false      # Approve ALL requests (dangerous!)
      priority_processing: true    # Process first in queue
      skip_episode_limit: true     # No review needed for long series

# Learning system
machine_learning:
  enabled: true                    # Enable ML feedback loop
  feedback_file: "/config/feedback.db"  # Store human decisions
  retrain_threshold: 100           # Retrain after 100 human reviews
  confidence_threshold: 0.75       # If AI confidence < 75%, flag NEEDS_REVIEW

# Notification settings
notifications:
  discord_webhook: ""              # Discord webhook URL
  telegram_bot_token: ""           # Telegram bot token
  notify_on_review: true           # Alert staff when NEEDS_REVIEW
  notify_on_rejection: false       # Alert user on rejections
  daily_summary: true              # Daily stats summary

# Performance tuning
performance:
  max_tokens: 100                  # OpenAI response token limit
  temperature: 0.2                 # Lower = more consistent
  cache_decisions: true            # Cache identical requests (1h)
  batch_processing: false          # Process multiple requests at once
